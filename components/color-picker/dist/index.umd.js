(function(d,g){typeof exports=="object"&&typeof module!="undefined"?g(require("omi")):typeof define=="function"&&define.amd?define(["omi"],g):(d=typeof globalThis!="undefined"?globalThis:d||self,g(d.omi))})(this,function(d){"use strict";var nt=Object.defineProperty;var at=(d,g,b)=>g in d?nt(d,g,{enumerable:!0,configurable:!0,writable:!0,value:b}):d[g]=b;var y=(d,g,b)=>(at(d,typeof g!="symbol"?g+"":g,b),b);const g=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}};var b=`.pickr{position:relative;overflow:visible;transform:translateY(0)}.pickr *{box-sizing:border-box}.pickr .pcr-button{position:relative;height:2em;width:2em;padding:.5em;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;border-radius:.15em;background:url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" stroke="%2342445A" stroke-width="5px" stroke-linecap="round"><path d="M45,45L5,5"></path><path d="M45,5L5,45"></path></svg>') no-repeat center;background-size:0;transition:all .3s}.pickr .pcr-button:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>');background-size:.5em;border-radius:.15em;z-index:-1}.pickr .pcr-button:before{z-index:initial}.pickr .pcr-button:after{position:absolute;content:"";top:0;left:0;height:100%;width:100%;transition:background .3s;background:currentColor;border-radius:.15em}.pickr .pcr-button.clear{background-size:70%}.pickr .pcr-button.clear:before{opacity:0}.pickr .pcr-button.clear:focus{box-shadow:0 0 0 1px #f1f3f4,0 0 0 3px currentColor}.pickr .pcr-button.disabled{cursor:not-allowed}.pickr input,.pickr button,.pcr-app input,.pcr-app button{outline:none;border:none;-webkit-appearance:none}.pickr input:focus,.pickr button:focus,.pcr-app input:focus,.pcr-app button:focus{box-shadow:0 0 0 1px #f1f3f4,0 0 0 3px currentColor}.pcr-app{position:fixed;display:flex;flex-direction:column;z-index:10000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;box-shadow:0 .15em 1.5em #0000001a,0 0 1em #00000008;width:22.5em;max-width:95vw;padding:.4em;border-radius:.1em;background:#fff;opacity:0;visibility:hidden;transition:opacity .3s;left:0;top:0}.pcr-app.visible{visibility:visible;opacity:1}.pcr-app .pcr-swatches{display:flex;flex-wrap:wrap;margin-top:.75em}.pcr-app .pcr-swatches.pcr-last{margin:0}@supports (display: grid){.pcr-app .pcr-swatches{display:grid;align-items:center;justify-content:space-around;grid-template-columns:repeat(auto-fit,1.75em)}}.pcr-app .pcr-swatches>button{position:relative;width:1.75em;height:1.75em;border-radius:.15em;cursor:pointer;margin:2.5px;flex-shrink:0;justify-self:center;transition:all .15s;overflow:hidden;background:transparent;z-index:1}.pcr-app .pcr-swatches>button:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>');background-size:6px;border-radius:.15em;z-index:-1}.pcr-app .pcr-swatches>button:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;border:1px solid rgba(0,0,0,.05);border-radius:.15em;box-sizing:border-box}.pcr-app .pcr-swatches>button:hover{filter:brightness(1.05)}.pcr-app .pcr-interaction{display:flex;flex-wrap:wrap;align-items:center;margin:0 -.2em}.pcr-app .pcr-interaction>*{margin:0 .2em}.pcr-app .pcr-interaction input{letter-spacing:.07em;font-size:.75em;text-align:center;cursor:pointer;color:#75797e;background:#f1f3f4;border-radius:.15em;transition:all .15s;padding:.45em .5em;margin-top:.75em}.pcr-app .pcr-interaction input:hover{filter:brightness(.975)}.pcr-app .pcr-interaction input:focus{box-shadow:0 0 0 1px #f1f3f4,0 0 0 3px #4285f4bf}.pcr-app .pcr-interaction .pcr-result{color:#75797e;text-align:left;flex:1 1 8em;min-width:8em;transition:all .2s;border-radius:.15em;background:#f1f3f4;cursor:text}.pcr-app .pcr-interaction .pcr-result::selection{background:#4285f4;color:#fff}.pcr-app .pcr-interaction .pcr-type.active{color:#fff;background:#4285f4}.pcr-app .pcr-interaction .pcr-clear,.pcr-app .pcr-interaction .pcr-save{color:#fff;width:auto}.pcr-app .pcr-interaction .pcr-save,.pcr-app .pcr-interaction .pcr-clear{color:#fff}.pcr-app .pcr-interaction .pcr-save:hover,.pcr-app .pcr-interaction .pcr-clear:hover{filter:brightness(.925)}.pcr-app .pcr-interaction .pcr-save{background:#4285f4}.pcr-app .pcr-interaction .pcr-clear{background:#aaa}.pcr-app .pcr-interaction .pcr-clear:focus{box-shadow:0 0 0 1px #f1f3f4,0 0 0 3px #aaaaaabf}.pcr-app .pcr-selection{display:flex;justify-content:space-between;flex-grow:1}.pcr-app .pcr-selection .pcr-picker{position:absolute;height:10px;width:10px;border:2px solid #fff;border-radius:100%;user-select:none}.pcr-app .pcr-selection .pcr-color-preview{position:relative;z-index:1;width:2em;display:flex;flex-direction:column;justify-content:space-between;margin-right:.75em}.pcr-app .pcr-selection .pcr-color-preview:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>');background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app .pcr-selection .pcr-color-preview .pcr-last-color{cursor:pointer;transition:background-color .3s,box-shadow .3s;border-radius:.15em .15em 0 0;z-index:2}.pcr-app .pcr-selection .pcr-color-preview .pcr-current-color{border-radius:0 0 .15em .15em}.pcr-app .pcr-selection .pcr-color-preview .pcr-last-color,.pcr-app .pcr-selection .pcr-color-preview .pcr-current-color{background:currentColor;width:100%;height:50%}.pcr-app .pcr-selection .pcr-color-palette,.pcr-app .pcr-selection .pcr-color-chooser,.pcr-app .pcr-selection .pcr-color-opacity{position:relative;user-select:none;display:flex;flex-direction:column;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.pcr-app .pcr-selection .pcr-color-palette:active,.pcr-app .pcr-selection .pcr-color-chooser:active,.pcr-app .pcr-selection .pcr-color-opacity:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.pcr-app .pcr-selection .pcr-color-palette{width:100%;height:8em;z-index:1}.pcr-app .pcr-selection .pcr-color-palette .pcr-palette{flex-grow:1;border-radius:.15em}.pcr-app .pcr-selection .pcr-color-palette .pcr-palette:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>');background-size:.5em;border-radius:.15em;z-index:-1}.pcr-app .pcr-selection .pcr-color-chooser,.pcr-app .pcr-selection .pcr-color-opacity{margin-left:.75em}.pcr-app .pcr-selection .pcr-color-chooser .pcr-picker,.pcr-app .pcr-selection .pcr-color-opacity .pcr-picker{left:50%;transform:translate(-50%)}.pcr-app .pcr-selection .pcr-color-chooser .pcr-slider,.pcr-app .pcr-selection .pcr-color-opacity .pcr-slider{width:8px;flex-grow:1;border-radius:50em}.pcr-app .pcr-selection .pcr-color-chooser .pcr-slider{background:linear-gradient(to bottom,hsl(0deg,100%,50%),hsl(60deg,100%,50%),hsl(120deg,100%,50%),hsl(180deg,100%,50%),hsl(240deg,100%,50%),hsl(300deg,100%,50%),hsl(0deg,100%,50%))}.pcr-app .pcr-selection .pcr-color-opacity .pcr-slider{background:linear-gradient(to bottom,transparent,black),url('data:image/svg+xml;utf8, <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2 2"><path fill="white" d="M1,0H2V1H1V0ZM0,1H1V2H0V1Z"/><path fill="gray" d="M0,0H1V1H0V0ZM1,1H2V2H1V1Z"/></svg>');background-size:100%,50%}
`,N=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),ct="";const h=L.bind(null,"addEventListener"),m=L.bind(null,"removeEventListener");function L(n,t,e,s,o={}){t instanceof HTMLCollection||t instanceof NodeList?t=Array.from(t):Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);for(const r of t)for(const i of e)r[n](i,s,{capture:!1,...o});return Array.prototype.slice.call(arguments,1)}function S(n){const t=document.createElement("div");return t.innerHTML=n.trim(),t.firstElementChild}function H(n,t){const e=n.getAttribute(t);return n.removeAttribute(t),e}function O(n){function t(e,s={}){const o=H(e,"data-con"),r=H(e,"data-key");r&&(s[r]=e);const i=o?s[o]={}:s;for(let a of Array.from(e.children)){const c=H(a,"data-arr");c?(i[c]||(i[c]=[])).push(a):t(a,i)}return s}return t(S(n))}function E(n){let t=n.path||n.composedPath&&n.composedPath();if(t)return t;let e=n.target.parentElement;for(t=[n.target,e];e=e.parentElement;)t.push(e);return t.push(document,window),t}function j(n,t=!0){const e=o=>o>="0"&&o<="9"||o==="-"||o===".";function s(o){const r=n.value,i=n.selectionStart;let a=i,c="";for(let p=i-1;p>0&&e(r[p]);p--)c=r[p]+c,a--;for(let p=i,l=r.length;p<l&&e(r[p]);p++)c+=r[p];if(c.length>0&&!isNaN(c)&&isFinite(c)){const p=o.deltaY<0?1:-1,l=[1,10,100][Number(o.shiftKey||o.ctrlKey*2)]*p;let u=Number(c)+l;!t&&u<0&&(u=0);const f=r.substr(0,a)+u+r.substring(a+c.length,r.length),v=a+String(u).length;n.value=f,n.focus(),n.setSelectionRange(v,v)}o.preventDefault(),n.dispatchEvent(new Event("input"))}h(n,"focus",()=>h(window,"wheel",s,{passive:!1})),h(n,"blur",()=>m(window,"wheel",s))}var F=Object.freeze(Object.defineProperty({__proto__:null,on:h,off:m,createElementFromString:S,removeAttribute:H,createFromTemplate:O,eventPath:E,adjustableInputNumbers:j},Symbol.toStringTag,{value:"Module"}));const{min:w,max:T,floor:Z,round:D}=Math;function W(n){const t=document.createElement("canvas").getContext("2d");return t.fillStyle=n,t.fillStyle}function $(n,t,e){n=n/360*6,t/=100,e/=100;let s=Z(n),o=n-s,r=e*(1-t),i=e*(1-o*t),a=e*(1-(1-o)*t),c=s%6,p=[e,i,r,r,a,e][c],l=[a,e,e,i,r,r][c],u=[r,r,a,e,e,i][c];return[p*255,l*255,u*255]}function X(n,t,e){return $(n,t,e).map(s=>D(s).toString(16).padStart(2,"0"))}function Y(n,t,e){const s=$(n,t,e),o=s[0]/255,r=s[1]/255,i=s[2]/255;let a,c,p,l;return a=w(1-o,1-r,1-i),c=a===1?0:(1-o-a)/(1-a),p=a===1?0:(1-r-a)/(1-a),l=a===1?0:(1-i-a)/(1-a),[c*100,p*100,l*100,a*100]}function q(n,t,e){t/=100,e/=100;let s=(2-t)*e/2;return s!==0&&(s===1?t=0:s<.5?t=t*e/(s*2):t=t*e/(2-s*2)),[n,t*100,s*100]}function V(n,t,e){n/=255,t/=255,e/=255;let s,o,r;const i=w(n,t,e),a=T(n,t,e),c=a-i;if(r=a,c===0)s=o=0;else{o=c/a;let p=((a-n)/6+c/2)/c,l=((a-t)/6+c/2)/c,u=((a-e)/6+c/2)/c;n===a?s=u-l:t===a?s=1/3+p-u:e===a&&(s=2/3+l-p),s<0?s+=1:s>1&&(s-=1)}return[s*360,o*100,r*100]}function G(n,t,e,s){n/=100,t/=100,e/=100,s/=100;const o=(1-w(1,n*(1-s)+s))*255,r=(1-w(1,t*(1-s)+s))*255,i=(1-w(1,e*(1-s)+s))*255;return[...V(o,r,i)]}function I(n,t,e){t/=100,e/=100,t*=e<.5?e:1-e;let s=2*t/(e+t)*100,o=(e+t)*100;return[n,s,o]}function K(n){return V(...n.match(/.{2}/g).map(t=>parseInt(t,16)))}function P(n){n=n.match(/^[a-zA-Z]+$/)?W(n):n;const t={cmyk:/^cmyk[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)/i,rgba:/^(rgb|rgba)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsla:/^(hsl|hsla)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hsva:/^(hsv|hsva)[\D]+(\d+)[\D]+(\d+)[\D]+(\d+)[\D]*?([\d.]+|$)/i,hex:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},e=o=>o.map(r=>/^(|\d+)\.\d+|\d+$/.test(r)?Number(r):void 0);let s;for(const o in t)if(!!(s=t[o].exec(n)))switch(o){case"cmyk":{let[,r,i,a,c]=e(s);if(r>100||i>100||a>100||c>100)break;return{values:[...G(r,i,a,c),1],type:o}}case"rgba":{let[,,r,i,a,c=1]=e(s);if(r>255||i>255||a>255||c<0||c>1)break;return{values:[...V(r,i,a),c],type:o}}case"hex":{const r=(c,p)=>[c.substring(0,p),c.substring(p,c.length)];let[,i]=s;i.length===3?i+="F":i.length===6&&(i+="FF");let a;return i.length===4?[i,a]=r(i,3).map(c=>c+c):i.length===8&&([i,a]=r(i,6)),a=parseInt(a,16)/255,{values:[...K(i),a],type:o}}case"hsla":{let[,,r,i,a,c=1]=e(s);if(r>360||i>100||a>100||c<0||c>1)break;return{values:[...I(r,i,a),c],type:o}}case"hsva":{let[,,r,i,a,c=1]=e(s);if(r>360||i>100||a>100||c<0||c>1)break;return{values:[r,i,a,c],type:o}}}return{values:null,type:null}}function k(n=0,t=0,e=0,s=1){const{ceil:o}=Math,r={h:n,s:t,v:e,a:s,toHSVA(){const i=[r.h,r.s,r.v],a=i.map(o);return i.push(r.a),i.toString=()=>`hsva(${a[0]}, ${a[1]}%, ${a[2]}%, ${r.a.toFixed(1)})`,i},toHSLA(){const i=q(r.h,r.s,r.v),a=i.map(o);return i.push(r.a),i.toString=()=>`hsla(${a[0]}, ${a[1]}%, ${a[2]}%, ${r.a.toFixed(1)})`,i},toRGBA(){const i=$(r.h,r.s,r.v),a=i.map(o);return i.push(r.a),i.toString=()=>`rgba(${a[0]}, ${a[1]}, ${a[2]}, ${r.a.toFixed(1)})`,i},toCMYK(){const i=Y(r.h,r.s,r.v),a=i.map(o);return i.toString=()=>`cmyk(${a[0]}%, ${a[1]}%, ${a[2]}%, ${a[3]}%)`,i},toHEXA(){const i=X(r.h,r.s,r.v);return i.toString=()=>{const a=r.a>=1?"":Number((r.a*255).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return`#${i.join("").toUpperCase()+a}`},i},clone(){return k(r.h,r.s,r.v,r.a)}};return r}function B(n){const t={options:Object.assign({lockX:!1,lockY:!1,onchange:()=>0},n),_tapstart(o){h(document,["mouseup","touchend","touchcancel"],t._tapstop),h(document,["mousemove","touchmove"],t._tapmove),o.preventDefault(),t._tapmove(o)},_tapmove(o){const{options:r,cache:i}=t,{element:a}=r,c=t.options.wrapper.getBoundingClientRect();let p=0,l=0;if(o){const u=o&&o.touches&&o.touches[0];p=o?(u||o).clientX:0,l=o?(u||o).clientY:0,p<c.left?p=c.left:p>c.left+c.width&&(p=c.left+c.width),l<c.top?l=c.top:l>c.top+c.height&&(l=c.top+c.height),p-=c.left,l-=c.top}else i&&(p=i.x*c.width,l=i.y*c.height);r.lockX||(a.style.left=`calc(${p/c.width*100}% - ${a.offsetWidth/2}px)`),r.lockY||(a.style.top=`calc(${l/c.height*100}% - ${a.offsetWidth/2}px)`),t.cache={x:p/c.width,y:l/c.height},r.onchange(p,l)},_tapstop(){m(document,["mouseup","touchend","touchcancel"],t._tapstop),m(document,["mousemove","touchmove"],t._tapmove)},trigger(){t._tapmove()},update(o=0,r=0){const i=t.options.wrapper.getBoundingClientRect();t._tapmove({clientX:i.left+o,clientY:i.top+r})},destroy(){const{options:o,_tapstart:r}=t;m([o.wrapper,o.element],"mousedown",r),m([o.wrapper,o.element],"touchstart",r,{passive:!1})}},{options:e,_tapstart:s}=t;return h([e.wrapper,e.element],"mousedown",s),h([e.wrapper,e.element],"touchstart",s,{passive:!1}),t}function U(n={}){n=Object.assign({onchange:()=>0,className:"",elements:[]},n);const t=h(n.elements,"click",e=>{n.elements.forEach(s=>s.classList[e.target===s?"add":"remove"](n.className)),n.onchange(e)});return{destroy:()=>m(...t)}}function J({el:n,reference:t,pos:e,padding:s=8}){const o={start:"sme",middle:"mse",end:"ems"},r={top:"tb",right:"rl",bottom:"bt",left:"lr"},[i,a="middle"]=e.split("-"),c=i==="top"||i==="bottom";return{update(){const p=t.getBoundingClientRect(),l=n.getBoundingClientRect(),u=c?{t:p.top-l.height-s,b:p.bottom+s}:{r:p.right+s,l:p.left-l.width-s},f=c?{s:p.left+p.width-l.width,m:-l.width/2+(p.left+p.width/2),e:p.left}:{s:p.bottom-l.height,m:p.bottom-p.height/2-l.height/2,e:p.bottom-p.height};function v(A,M,C){const R=C==="top",rt=R?l.height:l.width,it=window[R?"innerHeight":"innerWidth"];for(const st of A){const z=M[st];if(z>0&&z+rt<it){n.style[C]=`${z}px`;break}}}v(o[a],f,c?"left":"top"),v(r[i],u,c?"top":"left")}}}var Q=({components:n,strings:t,useAsButton:e,inline:s,appClass:o,width:r})=>{const i=l=>l?"":'style="display:none" hidden',a=(l,u)=>{let f=0;return l.hex&&f++,l.rgba&&f++,l.hsla&&f++,l.hsva&&f++,l.cmyk&&f++,f>1&&u?"":'style="display:none" hidden'},c=O(`
      <div data-key="root" class="pickr">

        ${e?"":'<button type="button" data-key="button" class="pcr-button"></button>'}

        <div data-key="app" class="pcr-app ${o||""}" ${`style="${s?"position: unset;":""}${r?`width:${r};`:""}"`}>
          <div class="pcr-selection" ${i(n.palette)}>
            <div data-con="preview" class="pcr-color-preview" ${i(n.preview)}>
              <button type="button" data-key="lastColor" class="pcr-last-color"></button>
              <div data-key="currentColor" class="pcr-current-color"></div>
            </div>

            <div data-con="palette" class="pcr-color-palette">
              <div data-key="picker" class="pcr-picker"></div>
              <div data-key="palette" class="pcr-palette"></div>
            </div>

            <div data-con="hue" class="pcr-color-chooser" ${i(n.hue)}>
              <div data-key="picker" class="pcr-picker"></div>
              <div data-key="slider" class="pcr-hue pcr-slider"></div>
            </div>

            <div data-con="opacity" class="pcr-color-opacity" ${i(n.opacity)}>
              <div data-key="picker" class="pcr-picker"></div>
              <div data-key="slider" class="pcr-opacity pcr-slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${n.palette?"":" pcr-last"}" data-key="swatches"></div> 

          <div data-con="interaction" class="pcr-interaction" ${i(Object.keys(n.interaction).length)}>
            <input data-key="result" class="pcr-result" type="text" spellcheck="false" ${i(n.interaction.input)}>

            <input data-arr="options" class="pcr-type" data-type="HEXA" value="HEXA" type="button" ${a(n.interaction,n.interaction.hex)}>
            <input data-arr="options" class="pcr-type" data-type="RGBA" value="RGBA" type="button" ${a(n.interaction,n.interaction.rgba)}>
            <input data-arr="options" class="pcr-type" data-type="HSLA" value="HSLA" type="button" ${a(n.interaction,n.interaction.hsla)}>
            <input data-arr="options" class="pcr-type" data-type="HSVA" value="HSVA" type="button" ${a(n.interaction,n.interaction.hsva)}>
            <input data-arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${a(n.interaction,n.interaction.cmyk)}>

            <input data-key="clear" class="pcr-clear" value="${t.clear||"Clear"}" type="button" ${i(n.interaction.clear)}>
            <input data-key="save" class="pcr-save" value="${t.save||"Save"}" type="button" ${i(n.interaction.save)}>
          </div>
        </div>
      </div>
    `),p=c.interaction;return p.options.find(l=>!l.hidden&&!l.classList.add("active")),p.type=()=>p.options.find(l=>l.classList.contains("active")),c};class _{constructor(t){y(this,"_initializingActive",!0);y(this,"_recalc",!0);y(this,"_color",k());y(this,"_lastColor",k());y(this,"_swatchColors",[]);y(this,"_eventListener",{"swatch-select":[],change:[],save:[],init:[]});this.options=t=Object.assign({appClass:null,useAsButton:!1,disabled:!1,comparison:!0,components:{interaction:{}},strings:{},swatches:null,inline:!1,default:"#42445A",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"},t);const{swatches:e,inline:s,components:o,position:r}=t;o.interaction||(o.interaction={});const{preview:i,opacity:a,hue:c,palette:p}=o;o.palette=p||i||a||c,s&&(t.showAlways=!0),this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(f=>this.addSwatch(f)),this._nanopop=J({reference:this._root.button,el:this._root.app,pos:r});const{button:l}=this._root,u=this;requestAnimationFrame(function f(){if(l.offsetParent===null&&l!==document.body)return requestAnimationFrame(f);u.setColor(t.default),u._rePositioningPicker(),t.defaultRepresentation&&(u._representation=t.defaultRepresentation,u.setColorRepresentation(u._representation)),t.showAlways&&u.show(),u._initializingActive=!1,u._emit("init")})}_preBuild(){const t=this.options;typeof t.el=="string"&&(t.el=t.el.split(/>>/g).reduce((e,s,o,r)=>(e=e.querySelector(s),o<r.length-1?e.shadowRoot:e),document)),this._root=Q(t),t.useAsButton&&(this._root.button=t.el),document.body.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;document.body.removeChild(e.root);const{parentElement:s}=t.el;s.lastChild===t.el?s.appendChild(e.app):s.insertBefore(e.app,t.el.nextSibling),t.useAsButton||t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,s={palette:B({element:t._root.palette.picker,wrapper:t._root.palette.palette,onchange(o,r){if(!e.palette)return;const{_color:i,_root:a,options:c}=t;i.s=o/this.wrapper.offsetWidth*100,i.v=100-r/this.wrapper.offsetHeight*100,i.v<0&&(i.v=0);const p=i.toRGBA().toString();this.element.style.background=p,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),
                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))
                    `,c.comparison||(a.button.style.color=p,c.useAsButton||(a.preview.lastColor.style.color=p)),a.preview.currentColor.style.color=p,t._recalc&&t._updateOutput(),a.button.classList.remove("clear")}}),hue:B({lockX:!0,element:t._root.hue.picker,wrapper:t._root.hue.slider,onchange(o,r){!e.hue||!e.palette||(t._color.h=r/this.wrapper.offsetHeight*360,this.element.style.backgroundColor=`hsl(${t._color.h}, 100%, 50%)`,s.palette.trigger())}}),opacity:B({lockX:!0,element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onchange(o,r){!e.opacity||!e.palette||(t._color.a=Math.round(r/this.wrapper.offsetHeight*100)/100,this.element.style.background=`rgba(0, 0, 0, ${t._color.a})`,t.components.palette.trigger())}}),selectable:U({elements:t._root.interaction.options,className:"active",onchange(o){t._representation=o.target.getAttribute("data-type").toUpperCase(),t._updateOutput()}})};this.components=s}_bindEvents(){const{_root:t,options:e}=this,s=[h(t.interaction.clear,"click",()=>this._clearColor()),h(t.preview.lastColor,"click",()=>this.setHSVA(...this._lastColor.toHSVA())),h(t.interaction.save,"click",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),h(t.interaction.result,["keyup","input"],o=>{this._recalc=!1,this.setColor(o.target.value,!0)&&!this._initializingActive&&this._emit("change",this._color),o.stopImmediatePropagation()}),h([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0)];if(!e.showAlways){const o=e.closeWithKey;s.push(h(t.button,"click",()=>this.isOpen()?this.hide():this.show()),h(document,"keyup",r=>this.isOpen()&&(r.key===o||r.code===o)&&this.hide()),h(document,["touchstart","mousedown"],r=>{this.isOpen()&&!E(r).some(i=>i===t.app||i===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers&&j(t.interaction.result,!1),!e.inline){let o=null;const r=this;s.push(h(window,["scroll","resize"],()=>{r.isOpen()&&(o===null?(o=setTimeout(()=>o=null,100),requestAnimationFrame(function i(){r._rePositioningPicker(),o!==null&&requestAnimationFrame(i)})):(clearTimeout(o),o=setTimeout(()=>o=null,100)))}))}this._eventBindings=s}_rePositioningPicker(){this.options.inline||this._nanopop.update()}_updateOutput(){if(this._root.interaction.type()){const t=`to${this._root.interaction.type().getAttribute("data-type")}`;this._root.interaction.result.value=typeof this._color[t]=="function"?this._color[t]().toString():""}this._initializingActive||this._emit("change",this._color)}_clearColor(){const{_root:t,options:e}=this;e.useAsButton||(t.button.style.color="rgba(0, 0, 0, 0.15)"),t.button.classList.add("clear"),e.showAlways||this.hide(),this._initializingActive||this._emit("save",null)}_emit(t,...e){this._eventListener[t].forEach(s=>s(...e,this))}on(t,e){return typeof e=="function"&&typeof t=="string"&&t in this._eventListener&&this._eventListener[t].push(e),this}off(t,e){const s=this._eventListener[t];if(s){const o=s.indexOf(e);~o&&s.splice(o,1)}return this}addSwatch(t){const{values:e}=P(t);if(e){const{_swatchColors:s,_root:o}=this,r=k(...e),i=S(`<button type="button" style="color: ${r.toRGBA()}"></button>`);return o.swatches.appendChild(i),s.push({element:i,hsvaColorObject:r}),this._eventBindings.push(h(i,"click",()=>{this.setHSVA(...r.toHSVA(),!0),this._emit("swatch-select",r)})),!0}return!1}removeSwatch(t){if(typeof t=="number"){const e=this._swatchColors[t];if(e){const{element:s}=e;return this._root.swatches.removeChild(s),this._swatchColors.splice(t,1),!0}}return!1}applyColor(t=!1){const{preview:e,button:s}=this._root,o=this._color.toRGBA().toString();e.lastColor.style.color=o,this.options.useAsButton||(s.style.color=o),s.classList.remove("clear"),this._lastColor=this._color.clone(),!this._initializingActive&&!t&&this._emit("save",this._color)}destroy(){this._eventBindings.forEach(t=>m(...t)),Object.keys(this.components).forEach(t=>this.components[t].destroy())}destroyAndRemove(){this.destroy();const t=this._root.root;t.parentElement.removeChild(t);const e=this._root.app;e.parentElement.removeChild(e);const s=this;Object.keys(s).forEach(o=>s[o]=null)}hide(){return this.visible=!1,this._root.app.classList.remove("visible"),this}toggle(){this.visible=!this.visible,this.visible?this.show():this.hide()}show(){if(!this.options.disabled)return this.visible=!0,this._root.app.classList.add("visible"),this._rePositioningPicker(),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,s=0,o=1,r=!1){const i=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||s<0||s>100||o<0||o>1)return!1;this._color=k(t,e,s,o);const{hue:a,opacity:c,palette:p}=this.components,u=a.options.wrapper.offsetHeight*(t/360);a.update(0,u);const v=c.options.wrapper.offsetHeight*o;c.update(0,v);const A=p.options.wrapper,M=A.offsetWidth*(e/100),C=A.offsetHeight*(1-s/100);return p.update(M,C),this._recalc=i,this._recalc&&this._updateOutput(),r||this.applyColor(),!0}setColor(t,e=!1){if(t===null)return this._clearColor(),!0;const{values:s,type:o}=P(t);if(s){const r=o.toUpperCase(),{options:i}=this._root.interaction,a=i.find(c=>c.getAttribute("data-type").startsWith(r));if(a&&!a.hidden)for(const c of i)c.classList[c===a?"add":"remove"]("active");return this.setHSVA(...s,e)}}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute("data-type").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}_.utils=F,_.create=n=>new _(n),_.version="0.6.2";var tt=Object.defineProperty,et=Object.getOwnPropertyDescriptor,ot=(n,t,e,s)=>{for(var o=s>1?void 0:s?et(t,e):t,r=n.length-1,i;r>=0;r--)(i=n[r])&&(o=(s?i(t,e,o):i(o))||o);return s&&o&&tt(t,e,o),o};let x=class extends d.WeElement{installed(){const n=_.create({el:this.shadowRoot.querySelector(".picker"),inline:this.props.inline,default:this.props.default,useAsButton:!this.props.button,swatches:this.props.swatches,width:this.props.width,components:{preview:this.props.preview,opacity:this.props.opacity,hue:this.props.hue,interaction:{hex:this.props.hex,rgba:this.props.rgba,hsla:this.props.hsla,hsva:this.props.hsva,cmyk:this.props.cmyk,input:this.props.input,clear:this.props.clear,save:this.props.save}},strings:this.props.strings});n.on("init",(...t)=>{this.fire("init",t[0])}).on("save",(...t)=>{t[0]?this.fire("save",{color:t[0].toHEXA().toString(),colorObject:t[0]}):this.fire("clear")}).on("change",(...t)=>{this.fire("change",{color:t[0].toHEXA().toString(),colorObject:t[0]})}).on("swatch-select",(...t)=>{this.fire("swatch-select",{color:t[0].toHEXA().toString(),colorObject:t[0]})}),this.picker=n}setColor(n){return this.picker.setColor(n)}render(n){return d.h("div",{...d.extractClass(n,"o-color-picker")},d.h("div",{class:"picker"}))}};x.css=N,x.defaultProps={button:!0,preview:!0,opacity:!0,hue:!0,hex:!0,rgba:!0,hsla:!0,hsva:!1,input:!0,clear:!0,save:!0,cmyk:!1,default:"#07c160",swatches:[],inline:!0,strings:{save:"Save",clear:"Clear"}},x.propTypes={button:Boolean,preview:Boolean,opacity:Boolean,hue:Boolean,hex:Boolean,rgba:Boolean,hsla:Boolean,hsva:Boolean,input:Boolean,clear:Boolean,save:Boolean,cmyk:Boolean,default:String,swatches:Array,inline:Boolean,strings:Object,width:String},x=ot([d.tag("o-color-picker")],x)});
