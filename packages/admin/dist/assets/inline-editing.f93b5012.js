import{W as c,h as t,_ as g,t as n,s as h,a as m}from"./index.2b48b3a4.js";import"./index.es.324cee6e.js";import"./index.es.e4bbb943.js";var p=Object.defineProperty,u=Object.getOwnPropertyDescriptor,b=(e,a,s,d)=>{for(var i=d>1?void 0:d?u(a,s):a,r=e.length-1,l;r>=0;r--)(l=e[r])&&(i=(d?l(a,s,i):l(i))||i);return d&&i&&p(a,s,i),i};const f="inline-editing";let o=class extends c{constructor(){super(...arguments),this.dataSource=[{id:1,name:"xwang",age:18,address:"Tencent"},{id:2,name:"dntzhang",age:12,address:"Tencent",$config:{bgColor:"rgb(247 176 176 / 32%)"}},{id:3,name:"lucy",age:12,address:"Tencent"},{id:4,name:"john",age:12,address:"Tencent",$config:{bgColor:"rgb(230 162 60 / 34%)"}},{id:5,name:"tim",age:12,address:"Tencent"},{id:6,name:"tim",age:12,address:"Tencent"},{id:7,name:"tim",age:12,address:"Tencent"},{id:8,name:"tim",age:12,address:"Tencent"},{id:9,name:"xwang",age:18,address:"Tencent"},{id:10,name:"dntzhang",age:12,address:"Tencent",$config:{bgColor:"rgb(247 176 176 / 32%)"}},{id:11,name:"lucy",age:12,address:"Tencent"},{id:12,name:"john",age:12,address:"Tencent",$config:{bgColor:"rgb(230 162 60 / 34%)"}},{id:13,name:"tim",age:12,address:"Tencent"},{id:14,name:"tim",age:12,address:"Tencent"},{id:15,name:"tim",age:12,address:"Tencent"},{id:16,name:"tim",age:12,address:"Tencent"}],this.columns=[{title:"ID",render:e=>t("strong",null,e.id)},{title:"Name",width:120,key:"name",editable:!0},{title:"Age",width:90,key:"age",editable:!0},{title:"Address",width:290,key:"address",editable:!0},{title:"\u64CD\u4F5C",align:"right",render:e=>t("o-tooltip",{content:"\u5220\u9664"+e.name},t("o-icon-delete",{"data-item-id":e.id,onClick:this.onClick,style:"cursor:pointer;font-size:20px;"}))}],this.paging=!0,this.pageSize=5,this.pageIndex=0,this.filterData=[],this.change=e=>{this.pageIndex=e.detail,this.renderTable()},this.onClick=e=>{this.table.deleteRowById(e.currentTarget.dataset.itemId)},this.exportExcel=()=>{g(()=>import("./export-excel.10ebf9b4.js"),["assets/export-excel.10ebf9b4.js","assets/index.2b48b3a4.js","assets/index.b3d9decc.css","assets/___vite-browser-external_commonjs-proxy.2e3e84b6.js"]).then(e=>{e.exportTableToExcel(this.table.rootNode.querySelector("table"))})}}renderTable(){this.filterData=this.dataSource.slice(this.pageIndex*this.pageSize,this.pageIndex*this.pageSize+this.pageSize),this.update()}installed(){this.renderTable()}deleteItemById(e){const a=this.dataSource.indexOf(this.dataSource.find(s=>s.id===e));a!==-1&&this.dataSource.splice(a,1),this.update()}render(){return t("div",{class:n`pl-0.5`},t("div",{class:n`relative h-10 text-right`},t("o-button",{class:n`relative top-2 right-2`,size:"mini",onClick:this.exportExcel},"\u5BFC\u51FAExcel")),t("div",{class:n`px-2`},t("o-table",{ref:e=>this.table=e,checkbox:!1,stripe:!1,border:!1,compact:!1,columns:this.columns,dataSource:this.filterData}),t("div",{class:n`mt-3 text-right`},t("o-pagination",{total:this.dataSource.length,"current-page":this.pageIndex,"page-size":this.pageSize,onchange:this.change}))))}};o.css=h.target;o=b([m(f)],o);export{o as default};
